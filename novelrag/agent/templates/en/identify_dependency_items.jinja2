You are an expert at analyzing content and identifying dependency items - resources that need to exist for the current operation to be fully meaningful and consistent. Based on the provided step description, proposal, and context, you need to generate a JSON response containing dependency items that represent future work to maintain story world integrity.

## Understanding Dependency Items

Dependency items are declarative specifications of resources that should exist but are not being created immediately. They represent future work that maintains the completeness and consistency of the story world.

### Key Characteristics

**Deferred Creation**: These items are not created now but added to the backlog for future pursuit, allowing focus on the primary task while acknowledging related resource needs.

**Contextual Necessity**: Each dependency arises from analyzing the content being created or modified. References to new characters, locations, objects, or concepts in the current work become dependency items.

**Generic but Contextual**: Descriptions should include important elements from the original proposal but remain customizable, capturing essential context while allowing implementation flexibility.

**Priority Signaling**: Dependencies can carry priority indicators (HIGH, MEDIUM, LOW) based on their importance to the current operation and story consistency.

## Identification Guidelines

### What Qualifies as a Dependency Item
- **Characters mentioned but not defined**: People referenced in the content who need proper characterization
- **Locations referenced**: Places mentioned that require detailed description
- **Objects or items**: Tools, weapons, artifacts, or significant objects that need specification
- **Organizations or groups**: Factions, institutions, or groups that require definition
- **Events or incidents**: Past or future events referenced that need documentation
- **Concepts or themes**: Abstract elements that require exploration

### What NOT to Include
- Resources that are being created in the current operation
- Extremely minor details that don't affect story consistency
- Generic or universal concepts that don't need specific definition
- Resources that already exist and are well-defined in the context

### Priority Guidelines
- **HIGH**: Directly referenced in current content, essential for story consistency
- **MEDIUM**: Supporting elements that enhance the story world but aren't immediately critical
- **LOW**: Background elements that could be developed later for completeness

### Description Guidelines
Create descriptions that are **generic enough to allow customization** while **including only elements explicitly mentioned in the original proposal**:

- **Include specific names** when mentioned in the proposal
- **Capture only the characteristics and roles** explicitly stated in the original proposal
- **Mention only the activities or involvement** directly described in the proposal
- **Do not add interpretive details** or story functions not explicitly mentioned
- **Keep language flexible** to allow for future development and customization
- **Only include what is directly stated** - do not infer or add context

## Analysis Process

1. **Content Analysis**: Review the step description and proposal for references to resources
2. **Context Check**: Ensure identified dependencies aren't already defined in the provided context
3. **Necessity Assessment**: Determine if each potential dependency is truly needed for story consistency
4. **Priority Assignment**: Assign appropriate priority levels based on importance
5. **Description Crafting**: Create generic but contextual descriptions that capture key elements

## Response Format

Your response must be a valid JSON object with the following structure:

```json
{
  "dependency_items": [
    {
      "priority": "HIGH|MEDIUM|LOW",
      "description": "Detailed description including key elements and names from proposal while remaining customizable"
    }
  ]
}
```

**Important**: If no dependency items are identified, return an empty array:

```json
{
  "dependency_items": []
}
```

Each dependency item should contain:
- **priority**: Priority level for backlog ordering (HIGH/MEDIUM/LOW)
- **description**: Detailed description that includes important elements from the proposal (names, key characteristics, roles, activities, story function) while remaining generic enough for customization

## Examples

### Example 1: Scene with new character references

**Step Description**: "Create confrontation scene between detective and suspect"
**Proposal**: "Detective Sarah Chen discovers that Marcus Volkov, a former military officer turned arms dealer, has been secretly supplying weapons to underground criminals. The confrontation takes place in an abandoned warehouse district."
**Context**: ["Detective Sarah Chen is the protagonist", "Warehouse district exists as a location"]

**Response**:
```json
{
  "dependency_items": [
    {
      "priority": "HIGH",
      "description": "Marcus Volkov, a former military officer turned arms dealer"
    }
  ]
}
```

### Example 2: Multiple dependencies with different priorities

**Step Description**: "Develop character backstory"
**Proposal**: "Sarah Chen's training at the Police Academy under Captain Rodriguez, where she learned forensic techniques from Dr. Amanda Foster and formed a rivalry with fellow cadet Jake Morrison."
**Context**: ["Sarah Chen character exists but needs backstory development"]

**Response**:
```json
{
  "dependency_items": [
    {
      "priority": "HIGH",
      "description": "Captain Rodriguez, Sarah Chen's commanding officer and mentor at the Police Academy"
    },
    {
      "priority": "MEDIUM",
      "description": "Dr. Amanda Foster, forensic expert and instructor who taught Sarah Chen forensic techniques"
    },
    {
      "priority": "LOW",
      "description": "Jake Morrison, fellow police academy cadet who formed a rivalry with Sarah Chen"
    }
  ]
}
```

### Example 3: No dependencies needed

**Step Description**: "Update character dialogue"
**Proposal**: "Modify Sarah's response to be more assertive in the existing conversation"
**Context**: ["Sarah Chen character defined", "Conversation scene exists"]

**Response**:
```json
{
  "dependency_items": []
}
```

## Your Task

Analyze the following information and identify any dependency items that need to be created for future development:

**Step Description**: {{ step_description }}

**Proposal**: {{ proposal }}

**Context**: {{ context }}

Remember to focus on resources that are referenced but not defined, ensuring they are necessary for story world consistency and completeness.
